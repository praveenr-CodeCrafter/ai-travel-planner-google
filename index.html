<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Travel Planner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoVBL5gI9kLmbG0CsdFSFYaCFliYSA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" integrity="sha512-qZvrmS2ekKPF2mSznTQsxqPgnpkI4DNTlrdUmTzrDgektczlKNRRhy5X5AAOnx5S09ydFYWWNSfcEqDTTHgtNA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.17.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/"
  }
}
</script>
<style>
    body {
        font-family: 'Inter', sans-serif;
    }
    @keyframes fadeIn {
        from { 
            opacity: 0;
            transform: translateY(1rem);
        }
        to { 
            opacity: 1;
            transform: translateY(0);
        }
    }
    .animate-fade-in {
        animation: fadeIn 0.6s ease-out forwards;
    }
    @keyframes scaleIn {
        from {
            opacity: 0;
            transform: scale(0.95);
        }
        to {
            opacity: 1;
            transform: scale(1);
        }
    }
    .animate-scale-in {
        animation: scaleIn 0.5s ease-out forwards;
    }

    @keyframes slow-spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
    .animate-slow-spin {
        animation: slow-spin 25s linear infinite;
    }
    
    @keyframes detailsIn {
        from {
            opacity: 0;
            transform: translateY(-0.5rem);
            max-height: 0;
        }
        to {
            opacity: 1;
            transform: translateY(0);
            max-height: 25rem; /* Increased max-height */
        }
    }
    .animate-details-in {
        animation: detailsIn 0.4s ease-out forwards;
        overflow: hidden;
    }

    /* Toast Animations */
    @keyframes toastIn {
        from {
            transform: translateX(calc(100% + 1.5rem)) scale(0.9);
            opacity: 0;
        }
        to {
            transform: translateX(0) scale(1);
            opacity: 1;
        }
    }
    .animate-toast-in {
        /* A little bounce effect */
        animation: toastIn 0.5s cubic-bezier(0.21, 1.02, 0.73, 1) forwards;
    }

    @keyframes toastOut {
        from {
            transform: translateX(0) scale(1);
            opacity: 1;
        }
        to {
            transform: translateX(calc(100% + 1.5rem)) scale(0.9);
            opacity: 0;
        }
    }
    .animate-toast-out {
        animation: toastOut 0.4s ease-in forwards;
    }

    @keyframes progress {
        from { width: 100%; }
        to { width: 0%; }
    }
    .animate-progress {
        animation: progress linear forwards;
    }

    /* Date Picker Animation */
    @keyframes calendarIn {
      from {
        opacity: 0;
        transform: translateY(-0.5rem) scale(0.98);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
    .animate-calendar-in {
      animation: calendarIn 0.2s ease-out forwards;
      transform-origin: top center;
    }

    /* Marker Animations */
    @keyframes markerPopIn {
        from {
            transform: scale(0);
            opacity: 0;
        }
        to {
            transform: scale(1);
            opacity: 1;
        }
    }
    .leaflet-marker-icon.marker-animate-in {
        animation: markerPopIn 0.4s ease-out backwards;
        transform-origin: bottom center;
    }
    @keyframes markerPulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.4); }
        100% { transform: scale(1); }
    }
    .leaflet-marker-icon.marker-selected-pulse {
        animation: markerPulse 0.5s ease-in-out;
        transform-origin: bottom center;
    }

    /* Animated Checkmark */
    @keyframes draw-circle {
      from { stroke-dashoffset: 69; } /* circumference of circle with r=11 */
      to { stroke-dashoffset: 0; }
    }
    @keyframes draw-check {
      from { stroke-dashoffset: 18; } /* length of check path */
      to { stroke-dashoffset: 0; }
    }
    .animate-draw-circle {
      stroke-dasharray: 69;
      stroke-dashoffset: 69;
      animation: draw-circle 0.5s ease-out forwards;
    }
    .animate-draw-check {
      stroke-dasharray: 18;
      stroke-dashoffset: 18;
      animation: draw-check 0.4s ease-out 0.5s forwards; /* Start after circle */
    }

    .leaflet-container {
        height: 450px;
        width: 100%;
        border-radius: 0.75rem; /* rounded-xl */
        z-index: 0;
    }
    .leaflet-tile-pane {
        filter: brightness(1);
    }
    .dark .leaflet-tile-pane {
        filter: brightness(0.6) invert(1) contrast(3) hue-rotate(200deg) saturate(0.3) brightness(0.7);
    }
    .activity-item.selected {
        background-color: var(--color-primary-light);
        border-color: var(--color-primary);
        transform: scale(1.02);
        box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    }
    .dark .activity-item.selected {
        background-color: var(--dark-color-primary-light);
        border-color: var(--dark-color-primary);
    }
    .activity-item {
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out, background-color 0.2s ease-in-out;
        border: 2px solid transparent;
        border-radius: 0.5rem;
        padding: 0.75rem;
        cursor: pointer;
    }

    /* Marker Cluster Customization */
    .marker-cluster-small,
    .marker-cluster-medium,
    .marker-cluster-large {
        background-color: color-mix(in srgb, var(--color-primary) 80%, transparent);
        backdrop-filter: blur(2px);
        border: 1px solid color-mix(in srgb, var(--color-primary-text) 50%, transparent);
    }
    .marker-cluster-small div,
    .marker-cluster-medium div,
    .marker-cluster-large div {
        color: var(--color-primary-text);
        font-weight: bold;
        text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
    }
    .dark .marker-cluster-small,
    .dark .marker-cluster-medium,
    .dark .marker-cluster-large {
        background-color: color-mix(in srgb, var(--dark-color-primary) 80%, transparent);
        border-color: color-mix(in srgb, var(--dark-bg-primary) 50%, transparent);
    }
    .dark .marker-cluster-small div,
    .dark .marker-cluster-medium div,
    .dark .marker-cluster-large div {
        color: var(--dark-bg-primary);
    }

    /* New Tip Animation */
    @keyframes tipFadeIn {
        from { opacity: 0; transform: translateY(0.5rem); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-tip-fade-in {
        animation: tipFadeIn 0.5s ease-out forwards;
    }

    /* Indeterminate Progress Bar */
    @keyframes indeterminate-progress {
        from { transform: translateX(-100%); }
        to { transform: translateX(200%); }
    }
    .animate-progress-bar-indeterminate {
        animation: indeterminate-progress 2s ease-in-out infinite;
    }
    /* New Header Background Animation */
    @keyframes move-background {
        from {
            transform: translate3d(0px, 0px, 0px);
        }
        to {
            transform: translate3d(1000px, 1000px, 0px);
        }
    }
    .header-background {
        position: absolute;
        width: 4000px;
        height: 4000px;
        top: -2000px;
        left: -2000px;
        z-index: 0;
        background: radial-gradient(var(--dark-color-primary) 0.5px, transparent 1px);
        background-size: 30px 30px;
        opacity: 0.2;
        animation: move-background 200s linear infinite;
    }
    
    .glassmorphism {
        background: rgba(22, 27, 34, 0.6);
        -webkit-backdrop-filter: blur(10px);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(48, 54, 61, 0.5);
    }
    .light .glassmorphism {
        background: rgba(255, 255, 255, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.5);
    }
</style>
</head>
  <body>
    <div id="root"></div>
  </body>
</html>